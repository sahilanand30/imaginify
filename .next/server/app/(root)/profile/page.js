(()=>{var e={};e.id=465,e.ids=[465],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},6005:e=>{"use strict";e.exports=require("node:crypto")},71017:e=>{"use strict";e.exports=require("path")},63477:e=>{"use strict";e.exports=require("querystring")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},5325:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>c.a,__next_app__:()=>f,originalPathname:()=>b,pages:()=>l,routeModule:()=>u,tree:()=>o}),a(65494),a(79223),a(35866),a(11506);var r=a(23191),s=a(88716),i=a(37922),c=a.n(i),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(t,d);let o=["",{children:["(root)",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,65494)),"C:\\Users\\admin\\Desktop\\imaginify\\app\\(root)\\profile\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,79223)),"C:\\Users\\admin\\Desktop\\imaginify\\app\\(root)\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"C:\\Users\\admin\\Desktop\\imaginify\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["C:\\Users\\admin\\Desktop\\imaginify\\app\\(root)\\profile\\page.tsx"],b="/(root)/profile/page",f={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(root)/profile/page",pathname:"/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},86886:(e,t,a)=>{let r={"0513dc1fa89a5a46cde460b345d3342f9b446570":()=>Promise.resolve().then(a.bind(a,61627)).then(e=>e.updateImage),"50467022347929ec652df885771661f8ce0b69cc":()=>Promise.resolve().then(a.bind(a,61627)).then(e=>e.deleteImage),"5bde9f216a7cdc6f58cb07f53e83b3e1738d68ea":()=>Promise.resolve().then(a.bind(a,61627)).then(e=>e.getUserImages),"78171ba2a30bc64fa482625bc3575e35f9b7eca2":()=>Promise.resolve().then(a.bind(a,61627)).then(e=>e.addImage),c2dc3af0312e83d3bbe5d4a259d4a503bdfc8574:()=>Promise.resolve().then(a.bind(a,61627)).then(e=>e.getAllImages),f6aa02c24d3e44009875e580eeee780816c3a94a:()=>Promise.resolve().then(a.bind(a,61627)).then(e=>e.getImageById),"15b7832004d701c5edee6144e0c0c9d9747cc984":()=>Promise.resolve().then(a.bind(a,23149)).then(e=>e.createUser),"1d575876d1821b9744f489231b3e5c1c6be08015":()=>Promise.resolve().then(a.bind(a,23149)).then(e=>e.updateUser),"2bfdc0e17c58ceb98c26f4cd1b2677c7816e8b39":()=>Promise.resolve().then(a.bind(a,23149)).then(e=>e.getUserById),"6211d5ae95a8c8bbe21c848c64603161c69b5fa8":()=>Promise.resolve().then(a.bind(a,23149)).then(e=>e.deleteUser),b2a90d281b61f0fd63dfa5008fbcac295a6ae37e:()=>Promise.resolve().then(a.bind(a,23149)).then(e=>e.updateCredits)};async function s(e,...t){return(await r[e]()).apply(null,t)}e.exports={"0513dc1fa89a5a46cde460b345d3342f9b446570":s.bind(null,"0513dc1fa89a5a46cde460b345d3342f9b446570"),"50467022347929ec652df885771661f8ce0b69cc":s.bind(null,"50467022347929ec652df885771661f8ce0b69cc"),"5bde9f216a7cdc6f58cb07f53e83b3e1738d68ea":s.bind(null,"5bde9f216a7cdc6f58cb07f53e83b3e1738d68ea"),"78171ba2a30bc64fa482625bc3575e35f9b7eca2":s.bind(null,"78171ba2a30bc64fa482625bc3575e35f9b7eca2"),c2dc3af0312e83d3bbe5d4a259d4a503bdfc8574:s.bind(null,"c2dc3af0312e83d3bbe5d4a259d4a503bdfc8574"),f6aa02c24d3e44009875e580eeee780816c3a94a:s.bind(null,"f6aa02c24d3e44009875e580eeee780816c3a94a"),"15b7832004d701c5edee6144e0c0c9d9747cc984":s.bind(null,"15b7832004d701c5edee6144e0c0c9d9747cc984"),"1d575876d1821b9744f489231b3e5c1c6be08015":s.bind(null,"1d575876d1821b9744f489231b3e5c1c6be08015"),"2bfdc0e17c58ceb98c26f4cd1b2677c7816e8b39":s.bind(null,"2bfdc0e17c58ceb98c26f4cd1b2677c7816e8b39"),"6211d5ae95a8c8bbe21c848c64603161c69b5fa8":s.bind(null,"6211d5ae95a8c8bbe21c848c64603161c69b5fa8"),b2a90d281b61f0fd63dfa5008fbcac295a6ae37e:s.bind(null,"b2a90d281b61f0fd63dfa5008fbcac295a6ae37e")}},61384:(e,t,a)=>{Promise.resolve().then(a.bind(a,11728)),Promise.resolve().then(a.t.bind(a,92481,23))},65494:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(19510),s=a(78459),i=a(17710),c=a(58585),n=a(62453),d=a(46276),o=a(61627),l=a(23149);let b=async({searchParams:e})=>{let t=Number(e?.page)||1,{userId:a}=(0,s.I)();a||(0,c.redirect)("/sign-in");let b=await (0,l.getUserById)(a),f=await (0,o.getUserImages)({page:t,userId:b._id});return(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{title:"Profile"}),(0,r.jsxs)("section",{className:"profile",children:[(0,r.jsxs)("div",{className:"profile-balance",children:[r.jsx("p",{className:"p-14-medium md:p-16-medium",children:"CREDITS AVAILABLE"}),(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[r.jsx(i.default,{src:"/assets/icons/coins.svg",alt:"coins",width:50,height:50,className:"size-9 md:size-12"}),r.jsx("h2",{className:"h2-bold text-dark-600",children:b.creditBalance})]})]}),(0,r.jsxs)("div",{className:"profile-image-manipulation",children:[r.jsx("p",{className:"p-14-medium md:p-16-medium",children:"IMAGE MANIPULATION DONE"}),(0,r.jsxs)("div",{className:"mt-4 flex items-center gap-4",children:[r.jsx(i.default,{src:"/assets/icons/photo.svg",alt:"coins",width:50,height:50,className:"size-9 md:size-12"}),r.jsx("h2",{className:"h2-bold text-dark-600",children:f?.data.length})]})]})]}),r.jsx("section",{className:"mt-8 md:mt-14",children:r.jsx(n.F,{images:f?.data,totalPages:f?.totalPages,page:t})})]})}},46276:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});var r=a(19510);a(71159);let s=({title:e,subtitle:t})=>(0,r.jsxs)(r.Fragment,{children:[r.jsx("h2",{className:"h2-bold text-dark-600",children:e}),t&&r.jsx("p",{className:"p-16-regular mt-4",children:t})]})},23149:(e,t,a)=>{"use strict";a.r(t),a.d(t,{createUser:()=>d,deleteUser:()=>b,getUserById:()=>o,updateCredits:()=>f,updateUser:()=>l});var r=a(24330);a(60166);var s=a(57708),i=a(29258),c=a(18879),n=a(50650);async function d(e){try{await (0,c.v)();let t=await i.Z.create(e);return JSON.parse(JSON.stringify(t))}catch(e){(0,n.S3)(e)}}async function o(e){try{await (0,c.v)();let t=await i.Z.findOne({clerkId:e});if(!t)throw Error("User not found");return JSON.parse(JSON.stringify(t))}catch(e){(0,n.S3)(e)}}async function l(e,t){try{await (0,c.v)();let a=await i.Z.findOneAndUpdate({clerkId:e},t,{new:!0});if(!a)throw Error("User update failed");return JSON.parse(JSON.stringify(a))}catch(e){(0,n.S3)(e)}}async function b(e){try{await (0,c.v)();let t=await i.Z.findOne({clerkId:e});if(!t)throw Error("User not found");let a=await i.Z.findByIdAndDelete(t._id);return(0,s.revalidatePath)("/"),a?JSON.parse(JSON.stringify(a)):null}catch(e){(0,n.S3)(e)}}async function f(e,t){try{await (0,c.v)();let a=await i.Z.findOneAndUpdate({_id:e},{$inc:{creditBalance:t}},{new:!0});if(!a)throw Error("User credits update failed");return JSON.parse(JSON.stringify(a))}catch(e){(0,n.S3)(e)}}(0,a(40618).h)([d,o,l,b,f]),(0,r.j)("15b7832004d701c5edee6144e0c0c9d9747cc984",d),(0,r.j)("2bfdc0e17c58ceb98c26f4cd1b2677c7816e8b39",o),(0,r.j)("1d575876d1821b9744f489231b3e5c1c6be08015",l),(0,r.j)("6211d5ae95a8c8bbe21c848c64603161c69b5fa8",b),(0,r.j)("b2a90d281b61f0fd63dfa5008fbcac295a6ae37e",f)}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,625,985,71,562,621,70,870,788,710,703,529],()=>a(5325));module.exports=r})();